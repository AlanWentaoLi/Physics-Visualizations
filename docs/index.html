<!doctype html>
<!-- **This line is extremely important, it tells the browser to use HTML5 instead of HTML 4.1**  -->
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Imperial Visualisations</title>
    <link rel="icon" href="https://www.imperial.ac.uk/T4Assets/favicon-196x196.png" type="image/x-icon">
    <link rel="stylesheet" href="https://manglekuo.com/i-v/styles.css?v=3">
    <style type="text/css">
        /* css here */
        body{
            display: block;
            box-sizing: border-box;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            height: 100%; min-height: 100%; width: 100%; min-width: 100%;
            position: absolute; top: 0; right: 0; bottom: 0; left: 0;/* make it full-screen */
        }
        .section{
            display: block;
            box-sizing: border-box;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            position: relative;
        }
        .section.intro{
            background: #003E74 url(assects/imperial-white-logo.svg) no-repeat fixed;
            background-position: bottom 20px left 20px;
            /*background-size: 190px 49.3px;*/
            background-size: 126.67px 32.86px;
        }
        .section.works{
            background: #FFDD00 url(assects/imperial-black-logo.svg) no-repeat fixed;
            background-position: bottom 20px left 20px;
            background-size: 126.67px 32.86px;
        }
        .section.license{
            background: #E40043 url(assects/imperial-white-logo.svg) no-repeat fixed;
            background-position: bottom 20px left 20px;
            background-size: 126.67px 32.86px;
        }
        .section.contact{
            background: #66A40A url(assects/imperial-white-logo.svg) no-repeat fixed;
            background-position: bottom 20px left 20px;
            background-size: 126.67px 32.86px;
        }

        .nav-link,.nav-link:hover,.nav-link:active,.nav-link:visited{
            position: absolute;
            box-sizing: border-box;
            display: inline-block;
            padding: 2px;
            padding-left: 4px;
            font-weight: 800;
            font-size: 16px;
            letter-spacing: 2px;
            transition: border 200ms ease;
            text-decoration: none;
        }



        .section.intro>.nav-link.intro{
            border-bottom: 2px solid #fff;
        }
        .section.works>.nav-link.works{
            border-bottom: 2px solid #FFDD00;
        }
        .section.license>.nav-link.license{
            border-bottom: 2px solid #000;
        }
        .section.contact>.nav-link.contact{
            border-bottom: 2px solid #EC7300;
        }


        .section.intro>.nav-link,.section.intro>.nav-link:hover,.section.intro>.nav-link:active,.section.intro>.nav-link:visited{
            color: #fff;
            border-bottom: 0px solid #fff;
            background-color: #003E74;
        }
        .section.intro>.nav-link:hover{
            border-bottom: 4px solid #fff;
        }

        .section.works>.nav-link,.section.works>.nav-link:hover,.section.works>.nav-link:active,.section.works>.nav-link:visited{
            color: #000;
            border-bottom: 0px solid #000;
            background-color: #FFDD00;
        }
        .section.works>.nav-link:hover{
            border-bottom: 4px solid #000;
        }

        .section.license>.nav-link,.section.license>.nav-link:hover,.section.license>.nav-link:active,.section.license>.nav-link:visited{
            color: #FFDD00;
            border-bottom: 0px solid #FFDD00;
            background-color: #E40043;
        }
        .section.license>.nav-link:hover{
            border-bottom: 4px solid #FFDD00;
        }

        .section.contact>.nav-link,.section.contact>.nav-link:hover,.section.contact>.nav-link:active,.section.contact>.nav-link:visited{
            color: #D4EFFC;
            border-bottom: 0px solid #D4EFFC;
            background-color: #66A40A;
        }
        .section.contact>.nav-link:hover{
            border-bottom: 4px solid #D4EFFC;
        }

        .nav-link.logo{
            width: 200px;
            height: auto;
            left: 50%;
            top:0;
            margin-left: -100px;
            margin-top: 20px;
            text-align: center;
            font-family: Georgia, Utopia, 'Times New Roman', Times, serif;
            font-style: italic;
        }
        .section.intro>.nav-link.logo:hover,.section.works>.nav-link.logo:hover,.section.license>.nav-link.logo:hover,.section.contact>.nav-link.logo:hover{
            border: 0px solid #fff;
        }

        .nav-link.intro{
            right: 20px;
            top: 50%;
            margin-top: -122px;
        }
        .nav-link.works{
            right: 20px;
            top: 50%;
            margin-top: -88px;
        }
        .nav-link.license{
            right: 20px;
            top: 50%;
            margin-top: -54px;
        }
        .nav-link.contact{
            right: 20px;
            top: 50%;
            margin-top: -20px;
        }


        .card{
            width: 240px;
            height: 300px;
            min-width: 240px;
            min-height: 300px;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0,0,0,.1),
                        0 4px 8px rgba(0,0,0,.25),
                        0 8px 10px rgba(0,0,0,.2);
            margin: 20px;
            box-sizing: border-box;
            padding: 20px;
            transition: box-shadow 200ms ease,border-bottom 200ms ease;
        }
        .card:hover,.card:focus{
            box-shadow: 0 3px 5px rgba(0,0,0,.1),
                        0 7px 8px rgba(0,0,0,.25),
                        0 10px 10px rgba(0,0,0,.2),
                        0 0px 30px rgba(0,0,0,.1);
        }
        .card.EM{ 
            border-bottom:5px solid #009CBC;
        }
        .card.EM:hover{
            border-bottom:10px solid #009CBC;
        }
        .card.Math{
            border-bottom:5px solid #321E6D;
        }
        .card.Math:hover{
            border-bottom:10px solid #321E6D;
        }
        .card.MnV{
            border-bottom:5px solid #A51900;
        }
        .card.MnV:hover{
            border-bottom:10px solid #A51900;
        }
        .section.works .card{
            position: relative;
        }
        .section.works .card>.cardTextOnPic{
            text-align: right;
            position: absolute;
            bottom: 20px;
            right: 20px;
        }
        .section.works .card>.cardTextOnPic>h3{
            text-align: right;
            display: inline;
            color: #000;
            margin:0;
            padding: 0;
            background-color: rgba(255,216,1,0.4);
        }
        .section.works .card>.cardTextOnPic>span{
            text-align: right;
            display: inline;
            color: #000;
            margin:0;
            padding: 0;
            background-color: rgba(255,216,1,0.4);
        }


        .emptyCard{
            width: 100px;
            height: 100px;
            margin: 20px;
            visibility: hidden;
        }


        .center{
            justify-content:  flex-start;
            align-items: center;
        }
        .left{
            justify-content:  flex-start;
            align-items: center;
        }


        .content{
            width: 100%;
            height: 100%;
            overflow: scroll;
            box-sizing: border-box;
            border: 10px solid rgba(255,255,255,0);
            border-top: 80px solid rgba(255,255,255,0);
            border-bottom: 80px solid rgba(255,255,255,0);
            display: flex;
            flex-wrap: no-wrap;
        }
        

@media (min-width: 321px) {
        .card{
            width: 280px;
            height: 300px;
            min-width: 280px;
            min-height: 300px;
        }
    }

/* Larger than mobile */
@media (min-width: 400px) {
        .content{
            border: 20px solid rgba(255,255,255,0);
            border-top: 100px solid rgba(255,255,255,0);
            border-bottom: 100px solid rgba(255,255,255,0);
        }
        .card{
            width: 300px;
            height: 300px;
            min-width: 300px;
            min-height: 300px;
        }
    }

/* Larger than phablet (also point when grid becomes active) */
@media (min-width: 550px) {
        .content{
            border: 50px solid rgba(255,255,255,0);
            border-top: 100px solid rgba(255,255,255,0);
            border-bottom: 100px solid rgba(255,255,255,0);
        }
        .section.works .card{
            width: 400px;
            height: 400px;
            min-width: 400px;
            min-height: 400px;
        }
    }

/* Larger than tablet */
@media (min-width: 769px) {
        .content{
            border: 100px solid rgba(255,255,255,0);
        }
        .center{
            justify-content: center;
            align-items: center;
        }
        .left{
            justify-content:  flex-start;
            align-items: center;
        }
        .left>.emptyCard{
            width: 0px;
            height: 100px;
            margin: 20px;
            visibility: hidden;
        }
        .center>.emptyCard{
            width: 0px;
            height: 100px;
            margin: 20px;
            display: none;
        }
        .section.works .card{
            width: 500px;
            height: 500px;
            min-width: 500px;
            min-height: 500px;
        }
    }

/* Larger than desktop */
@media (min-width: 1000px) {}

/* Larger than Desktop HD */
@media (min-width: 1200px) {}

    </style>
</head>
<body class="no-nav">
    <div class="section intro">
        <a class="nav-link logo" href="#intro">Imperial<br>Visualisation</a>
        <a class="nav-link intro" href="#intro">Intro</a>
        <a class="nav-link works" href="#works">Works</a>
        <a class="nav-link license" href="#license">License</a>
        <a class="nav-link contact" href="#contact">Contact</a>
    </div>
    <div class="section works">
        <div class="content left" id="works">
            
        </div>
        <a class="nav-link logo" href="#intro">Imperial<br>Visualisation</a>
        <a class="nav-link intro" href="#intro">Intro</a>
        <a class="nav-link works" href="#works">Works</a>
        <a class="nav-link license" href="#license">License</a>
        <a class="nav-link contact" href="#contact">Contact</a>
    </div>
    <div class="section license">
        <a class="nav-link logo" href="#intro">Imperial<br>Visualisation</a>
        <a class="nav-link intro" href="#intro">Intro</a>
        <a class="nav-link works" href="#works">Works</a>
        <a class="nav-link license" href="#license">License</a>
        <a class="nav-link contact" href="#contact">Contact</a>
    </div>
    <div class="section contact">
        <div class="content center">
            <div class="card"><h3>Contact</h3>The current manager of the project is <a href="https://www.imperial.ac.uk/people/c.clewley">Dr Caroline Clewley</a>, which you can contact by sending email to <a href="mailto:c.clewley@imperial.ac.uk">c.clewley@imperial.ac.uk</a>.</div>
            
            <div class="card"><h3>Join Us</h3>You're welcome to join us as an Imperial student..Please send your relevant previous work short CV with relevant skills and experience, a list of modules and marks obtained so far to <a href="https://www.imperial.ac.uk/people/c.clewley">Dr Caroline Clewley</a>.</div>
            
            <div class="card"><h3>Already a Team Member?</h3>Use the code √2 to log in...</div>

        </div>
        <a class="nav-link logo" href="#intro">Imperial<br>Visualisation</a>
        <a class="nav-link intro" href="#intro">Intro</a>
        <a class="nav-link works" href="#works">Works</a>
        <a class="nav-link license" href="#license">License</a>
        <a class="nav-link contact" href="#contact">Contact</a>
    </div>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script>
        // Or put your javascript/jQuery code here.
        $(window).scroll(function() {
            console.log($(this).scrollTop()-$('.section.intro').height());

            $('.section.intro>.nav-link').css('top', $(this).scrollTop()+$('.section.intro').height()/2 + "px");
            $('.section.intro>.nav-link.logo').css('top', $(this).scrollTop() + "px");


            $('.section.works>.nav-link').css('top', $(this).scrollTop()-$(".section.intro").height()+$('.section.works').height()/2+ "px");
            $('.section.works>.nav-link.logo').css('top', $(this).scrollTop()-$(".section.intro").height() + "px");


            $('.section.license>.nav-link').css('top', $(this).scrollTop()-$(".section.intro").height()-$('.section.works').height()+$('.section.license').height()/2 + "px");
            $('.section.license>.nav-link.logo').css('top', $(this).scrollTop()-$('.section.intro').height()-$('.section.works').height() + "px");


            $('.section.contact>.nav-link').css('top', $(this).scrollTop()-$(".section.intro").height()-$('.section.works').height()-$('.section.license').height()+$('.section.contact').height()/2+ "px");
            $('.section.contact>.nav-link.logo').css('top', $(this).scrollTop()-$(".section.intro").height()-$('.section.works').height()-$('.section.license').height() + "px");

        });

        $(document).ready(function() {
            $.ajax({
                type: "GET",
                url: "assects/visualisations.csv",
                dataType: "text",
                success: function(data) {processData(data);}
             });
        });

        function processData(allText) {
            var allTextLines = allText.split(/\r\n|\n/);
            var headers = allTextLines[0].split(',');
            var lines = [];

            for (var i=1; i<allTextLines.length; i++) {
                var data = allTextLines[i].split(',');
                if (data.length == headers.length) {

                    var tarr = [];
                    for (var j=0; j<headers.length; j++) {
                        tarr.push(data[j]);

                    }
                    group = tarr[0].substr(0, tarr[0].indexOf(':'));
                    $("#works").append('<a href="./'+tarr[1]+'"><div class="card '+group+'"><div class="cardTextOnPic"><h3>'+tarr[0]+'</h3><br><span>done by <em>'+tarr[3]+'</em></span></div></div></a>');
                    lines.push(tarr);
                }
            }
            $("#works").append('<div class="emptyCard">ffff</div>');
            console.log(lines);

        }
        var codeInput = "0000000";
        $(".nav-link").click(function(e) {
            var href = $(this).attr("href");
            href = href.substr(1,href.length);
            if(href == "intro"){
                codeInput += "1";
            }else if(href == "works"){
                codeInput += "2";
            }else if(href == "license"){
                codeInput += "3";
            }else if(href == "contact"){
                codeInput += "4";
            }
            codeInput = codeInput.substr(1,codeInput.length);
            console.log(codeInput);
            if(codeInput == "1414213"){
                window.location.href = "./developer.html";
            }else{
                e.preventDefault();
                // $(window).scrollTop($(".section."+href).offset().top);
                $('html,body').stop().animate({
                    scrollTop: $(".section."+href).offset().top
                }, 200);
            }
        });
    </script>
</body>
</html>
