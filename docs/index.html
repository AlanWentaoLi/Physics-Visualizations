<!doctype html>
<!-- **This line is extremely important, it tells the browser to use HTML5 instead of HTML 4.1**  -->
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Imperial Visualisations</title>
    <link rel="icon" href="https://www.imperial.ac.uk/T4Assets/favicon-196x196.png" type="image/x-icon">
    <link rel="stylesheet" href="./assets/font-awesome-4.7.0/css/font-awesome.min.css">

    <link rel="stylesheet" href="https://manglekuo.com/i-v/styles.css?v=3">
    <style type="text/css">
        /* css here */
        body{
            display: block;
            box-sizing: border-box;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            height: 100%; min-height: 100%; width: 100%; min-width: 100%;
            position: absolute; top: 0; right: 0; bottom: 0; left: 0;/* make it full-screen */
            position: relative;
        }
        #container{
            display: block;
            box-sizing: border-box;
            height: 100%; min-height: 100%; width: 100%; min-width: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            position: relative;
            background: #fff url(assets/imperial-logo.svg) no-repeat fixed;
            background-position: bottom 20px left 20px;
            /*background-size: 190px 49.3px;*/
            background-size: 126.67px 32.86px;
        }

        #nav{
            position: fixed;
            width: 100%;
            display: flex;
            justify-content:space-between;
            align-items: center;
            align-content: center;
            height: 100px;
            z-index: 1;
            background-color: rgba(255,255,255,0.8);
        }
        #logo{
            height:38px;
            width: 262.25px;
            position: absolute;
            left: 50%;
            top: 50%;
            margin-left: -131.125px;
            margin-top: -19px;
            transition: all 100ms ease-in;
        }
        #nav>span{
            display: block;
            width: 100px;
            height: 100px;
            font-size: 40px;
            text-align: center;
            line-height: 100px;
            position: relative;
        }
        #nav>#menu{
            overflow: hidden;
        }
        #nav>#search>#magnifier{
            display: block;
            width: 100px;
            height: 100px;
            font-size: 40px;
            text-align: center;
            line-height: 100px;
            position: absolute;
        }
        #nav>#search>#searchBar{
            display: block;
            box-sizing: border-box;
            width: 60px;
            height: 60px;
            margin: 20px;
            padding: 10px;
            font-size: 40px;
            text-align: left;
            line-height: 100px;
            position: absolute;
            right: 0;
            top: 0;
            border-radius: 8px;
            border: 0px solid #000;
            background-color: rgba(100,100,100,0.5);
            color: #fff;
            opacity: 0;
            box-shadow: inset 0px 0px 1px 1px #AAA;
        }
        #nav>#search>#searchBar:focus{
            outline: none;
        }
        #nav>#search>#searchBar::placeholder{
            color: #fff;
            opacity: 0;
        }



        #content{
            box-sizing: border-box;
            width: 80%; min-width: 80%;
            display: flex;
            flex-wrap: wrap;
            position: relative;
            margin: 0 auto;
            z-index: 0;
            padding-top:100px;
            justify-content: center;
            align-items: center;
        }
        .card{
            width: 320px;
            height: 240px;
            min-width: 320px;
            min-height: 240px;
            background-color: #EBEEEE;
            border: 1px solid #EEE;
            border-radius: 2px;
            /*
            box-shadow: 0 2px 5px rgba(0,0,0,.1),
                        0 4px 8px rgba(0,0,0,.25),
                        0 8px 10px rgba(0,0,0,.2);*/
            margin: 20px;
            box-sizing: border-box;
            transition: all 100ms ease;
            position: relative;

        }
        .card:hover,a:focus>.card{/*
            box-shadow: 0 2px 0px rgba(160,160,160,1),
                        0 3px 5px rgba(0,0,0,.1),
                        0 7px 8px rgba(0,0,0,.25),
                        0 10px 10px rgba(0,0,0,.2),
                        0 0px 30px rgba(0,0,0,.1);*/
            border: 1px solid #bbb;
            border-radius: 2px;
        }
        .cardBackground{
            transition: all 100ms ease;

            width: 100%;
            height: 100%;
            background-repeat:no-repeat;
            background-position: center;
            
            background-size: cover;

            filter: blur(1px);
            z-index: 1;
        }
        .card:hover>.cardBackground,a:focus>.card>.cardBackground{
            filter: blur(0px);
        }
        .card:after{
            content: " ";
            background-color: rgba(0,0,0,0.03);
            width: 100%;
            height: 100%;
            position: absolute;
            left: 0;
            top: 0;
            z-index: 2;
        }
        .card:hover:after,a:focus>.card:after{
            background-color: rgba(0,0,0,0.02);
        }
        .card>.cardTextOnPic{
            text-align: right;
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 3;
        }
        .card>.cardTextOnPic>span:nth-child(1){
            text-align: right;
            display: inline;
            color: #000;
            margin:0;
            padding: 0;
            background-color: rgba(255,255,255,1);
            z-index: 3;
            box-shadow: 0px 2px 3px -2px #000;
            mix-blend-mode: normal;
            padding-left: 10px;
            font-size: 24px;
            font-weight: 600;
            line-height: 24px;
        }
        .card>.cardTextOnPic>span:nth-child(3){
            text-align: right;
            display: inline;
            color: #000;
            margin:0;
            padding: 0;
            background-color: rgba(255,255,255,1);
            z-index: 3;
            box-shadow: 0px 2px 3px -2px #000;
            mix-blend-mode: normal;
            padding-left: 10px;
        }
        .card>.cardTextOnPic>span:nth-child(5){
            text-align: right;
            display: inline;
            color: #000;
            margin:0;
            padding: 0;
            background-color: rgba(255,255,255,1);
            z-index: 3;
            box-shadow: 0px 2px 3px -2px #000;
            mix-blend-mode: normal;
        }
        .categories{
            position: relative;
            padding-left: 20px;
            color: #9D9D9D;
            text-decoration: none;
            text-shadow: 0px 1px #fff;
        }
        .Maths.categories::before{
            background-color: #00ACD7;
        }
        .Physics.categories::before{
            background-color: #E40043;
        }

        .Chemistry.categories::before{
            background-color: #FFDD00;
        }
        .categories::before{
            content: " ";
            width: 10px;
            height: 10px;
            background-color: #9D9D9D;
            box-shadow: inset 0px 1px 0px 0.2px rgba(0,0,0,0.2);
            border-radius: 100px;
            position: absolute;
            left: 8px;
            top: 50%;
            margin-top: -5px;
        }




        #footer{
            width: 100%;
            height: 100px;
            text-align: center;
            line-height: 100px;
            color: #000;

            z-index: 0;
        }
        #footer a{
            color: #000;
        }
        #footer a:hover{
            color: #000;
        }

        .bar{
            display: block;
            width: 40px;
            height: 6px;
            background-color: #000;
            position: absolute;
            left:50%;
            top:50%;
            margin-left: -20px;
            transition: transform 100ms ease-in-out;
        }
        .bar:hover{
            transform:scale(1.1,1);
        }
        .bar.top{
            margin-top:-15px;
        }
        .bar.mid{
            margin-top:-3px;
            width: 32px;
        }
        .bar.bottom{
            margin-top:9px;
            width: 26px;
        }
        .del{
            display: block;
            width: 40px;
            height: 6px;
            background-color: #000;
            position: absolute;
            left:50%;
            top:50%;
            margin-left: -20px;
            margin-top:-3px;
            transform: translateX(-100px);
        }
    </style>
</head>
<body class="no-nav">

<div id="container">
    <div id="nav">
        <span id="menu">
        <div class="bar top"></div>
        <div class="bar mid"></div>
        <div class="bar bottom"></div>
        <div class="del left"></div>
        <div class="del right"></div></span>
        <img id="logo" src="./assets/iv-logo-v3.svg">
        <span id="search"><input id="searchBar" placeholder="Search Here..."><span id="magnifier"><i class="fa fa-search fa-fw" aria-hidden="true"></i></span></span>
    </div>
    <div id="content">
    </div>

    <div id="footer"><em><a href="./term.html">Terms</a></em>&nbsp;&nbsp;,&nbsp;&nbsp;<em><a href="./contact.html">Contact</a></em>&nbsp;&nbsp;&&nbsp;&nbsp;<em><a href="./developer.html">Developer</a></em></div>
</div>
    <script src="./scripts/anime.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script>
        var toggleMenu = anime({
          targets: '#menu .bar',
          translateX: -90,
          delay: function(el, i, l) { return i * 100; },
          duration: 100,
          autoplay: false,
          easing: 'easeInOutQuint',
          complete: function(anim) {
            $("#menu").toggleClass("opened");
          }
        });

        var toggleDel = anime({
          targets: '#menu .del',
          translateX: {
            value: [-100, 0],
            duration: 300,
            delay: 100,
            easing: 'easeInOutBack'
          },
          rotate: {
            value: function(el, i, l) { return (1-i*2)*45; },
            delay: 200,
            duration: 200,
            easing: 'easeInOutBack'
          },
          autoplay: false
        });
        var searchOpen = anime.timeline({autoplay: false,complete:function(){$("#magnifier").toggleClass("closed");}});
        searchOpen.add({
            targets: '#magnifier',
            scale: [1,1.2],
            color: ["#000000","#888888"],
            duration: 100,
            offset: 0,
            easing: 'easeOutQuad'
        }).add({
            targets: '#searchBar',
            opacity: [0,1],
            duration: 100,
            offset: 100,
            easing: 'easeInOutQuad'
        }).add({
            targets: '#searchBar:placeholder',
            opacity: [0,1],
            duration: 50,
            offset: 100,
            easing: 'easeInOutQuad'
        }).add({
            targets: '#magnifier',
            scale: [1.2,1],
            color: ["#888888","#ffffff"],
            duration: 100,
            offset: 120,
            easing: 'easeInQuad'
        }).add({
            targets: '#searchBar',
            width: [60,500],
            duration: 100,
            offset: 200,
            easing: 'easeInOutQuad'
        });

        $("#menu").on('click',function(){
            if($(this).hasClass("opened")){
                toggleMenu.play();
                toggleMenu.reverse();
                toggleDel.play();
                toggleDel.reverse();
            }else{
                toggleMenu.play();
                toggleDel.play();
            }
            
        });

        $("#magnifier").on('click',function(e){
            if($("#searchBar").val()==""){
                if(!$("#magnifier").hasClass("closed")){
                    searchOpen.restart();
                    searchOpen.reverse();
                    $("#searchBar").blur();
                }else{
                    searchOpen.restart();
                    $("#searchBar").focus();
                }
            }else{
                if(!$("#magnifier").hasClass("closed")){
                    alert($("#searchBar").val());
                    $("#searchBar").focus();
                }else{
                    searchOpen.restart();
                    $("#searchBar").focus();
                }
            }
            e.preventDefault();
            e.stopPropagation();
        });

        $("#searchBar").keydown(function (e) {
          if (e.keyCode == 13) {
            $("#magnifier").click();
          }
        });
        $("#container").click(function (e) {
                if(!$("#magnifier").hasClass("closed")){
                    searchOpen.restart();
                    searchOpen.reverse();
                    e.preventDefault();
                    e.stopPropagation();
                }else{
                }
        });
        function toHTML(array,type){
            if(type == "class"){
                text = "";
                for (var i = 0; i < array.length; i++) {
                    text += array[i]+" ";
                }
                return text;
            }else if(type == "list"){
                text = "";
                for (var i = 0; i < array.length; i++) {
                    if(i == array.length-1){
                        text += array[i]+".";
                    }else if(i == array.length-2){
                        text += array[i]+" & ";
                    }else{
                        text += array[i]+", ";
                    }
                }
                return text;
            }else if(type == "span"){
                text = "";
                for (var i = 0; i < array.length; i++) {
                    text += "<span class='categories "+array[i]+"'>"+array[i]+"</span>";
                }
                return text;
            }
        }
        var Visualisations = {
            _2Dtwobodycollisionwithonestationary: {displayName: "2D two body collision with one stationary", doneBy: ["Mangle","Rob"], categories:["Physics"]},
            _ElectrostaticFieldVisualiser: {displayName: "Electrostatic Field Visualiser", doneBy: ["Ansh"], categories:["Physics"]},
            _2DMatrixTransformations: {displayName: "2D Matrix Transformations", doneBy: ["Ryo"], categories:["Maths","Physics"]},
            _3DMatrixTransformations: {displayName: "3D Matrix Transformations", doneBy: ["Rohan"], categories:["Maths","Physics"]},
            _PulseatInterface: {displayName: "Pulse at Interface", doneBy: ["Anthony","Célié"], categories:["Physics","Chemistry"]},
            _Diatomic: {displayName: "Diatomic", doneBy: ["Akash","Rob","Mangle"], categories:["Chemistry","Physics"]},
            _2Dtwobodycollisionwithonestationary1: {displayName: "2D two body collision with one stationary", doneBy: ["Mangle","Rob"], categories:["Physics"]},
            _ElectrostaticFieldVisualiser1: {displayName: "Electrostatic Field Visualiser", doneBy: ["Ansh"], categories:["Physics"]},
            _2DMatrixTransformations1: {displayName: "2D Matrix Transformations", doneBy: ["Ryo"], categories:["Maths","Physics"]},
            _3DMatrixTransformations1: {displayName: "3D Matrix Transformations", doneBy: ["Rohan"], categories:["Maths","Physics"]},
            _PulseatInterface1: {displayName: "Pulse at Interface", doneBy: ["Anthony","Célié"], categories:["Physics","Chemistry"]},
            _Diatomic1: {displayName: "Diatomic", doneBy: ["Akash","Rob","Mangle"], categories:["Chemistry","Physics"]}
        };

        for (Visual in Visualisations) {
            $("#content").append('<a href="#"><div id="'+Visual+'" class="card '+toHTML(Visualisations[Visual].categories,"class")+'"><div class="cardBackground" style="background-image:url(./assets/_2Dtwobodycollisionwithonestationary.png)"></div><div class="cardTextOnPic"><span>'+Visualisations[Visual].displayName+'</span><br><span>done by <em>'+toHTML(Visualisations[Visual].doneBy,"list")+'</em></span><br><span>'+toHTML(Visualisations[Visual].categories,"span")+'</span></div></div></a>');
        }
        $(window).scroll(function() {
            if($(this).scrollTop() > 20){
                $("#logo").css("margin-left","-13.57px");
                $("#logo").css("clip","rect(0px,27.14px,38px,0px)");
                $("#logo").css("transform-origin","13.57px 19px 0px");
                $("#logo").css("transform","scale(1.8)");
            }else{
                $("#logo").css("margin-left","-131.125px");
                $("#logo").css("clip","rect(0px,262.25px,38px,0px)");
                $("#logo").css("transform","scale(1)");
            }
        });
    </script>
</body>
</html>
